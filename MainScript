-- MainScript
local HttpService = game:GetService("HttpService")

-- Load GUI and CustomModule from GitHub
local MainGui = loadstring(game:HttpGet("https://raw.githubusercontent.com/LiesInTheDarkness/Rex-2.0/main/MainGui"))()
local CustomModule = loadstring(game:HttpGet("https://raw.githubusercontent.com/LiesInTheDarkness/Rex-2.0/main/CustomModule"))()

-- Fetch screenGui and mainFrame from the existing MainGui setup
local screenGui = MainGui.screenGui
local mainFrame = MainGui.mainFrame

if not screenGui or not mainFrame then
    error("MainGui is not properly set up. Ensure MainGui defines screenGui and mainFrame.")
end

-- Add toggles dynamically from CustomModule
for _, toggle in ipairs(CustomModule.Toggles) do
    MainGui.createToggleButton(toggle, mainFrame)
end