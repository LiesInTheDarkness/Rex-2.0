local MainGui = {}

function MainGui.createToggleButton(toggle, mainFrame)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 200, 0, 50)
    button.Position = UDim2.new(0, 50, 0, 50 + (#mainFrame:GetChildren() - 1) * 60)
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.Text = toggle.Name
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextScaled = true
    button.Font = Enum.Font.GothamBold
    button.Parent = mainFrame

    local state = false
    button.MouseButton1Click:Connect(function()
        state = not state
        toggle.Function(state)
        button.BackgroundColor3 = state and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(50, 50, 50)
        game.StarterGui:SetCore("SendNotification", {
            Title = "Button Clicked";
            Text = toggle.Name .. (state and " ON" or " OFF");
            Duration = 5;
        })
    end)
end

return MainGui